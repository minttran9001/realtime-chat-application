{"version":3,"sources":["database/firebase.js","actions/constants.js","actions/auth.js","actions/user.js","components/Header/index.js","components/Layout/index.js","components/Layout/UI/Input/index.js","components/Layout/UI/Card/index.js","components/Layout/UI/Button/index.js","components/Layout/UI/Title/index.js","components/Layout/UI/Error/index.js","containers/SignUpPage/index.js","containers/LoginPage/index.js","images/mint.jpg","images/noavtar.png","containers/HomePage/index.js","components/Layout/UI/Loading/index.js","components/PostDetail/index.js","actions/post.js","components/ModalPost/index.js","components/ModalUpdateAvatar/index.js","containers/ProfilePage/index.js","components/Private/index.js","App.js","reducers/authReducer.js","reducers/userReducer.js","reducers/postReducer.js","reducers/index.js","store/index.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","authConstants","userConstants","postConstants","signUp","user","dispatch","a","db","firestore","type","auth","createUserWithEmailAndPassword","email","password","then","data","currentUser","name","firstName","lastName","updateProfile","displayName","collection","doc","uid","set","createdAt","Date","isOnline","loggedUser","localStorage","setItem","JSON","stringify","payload","catch","err","error","message","updateMessage","msgObj","add","isView","ref","storage","file","metaData","contentType","child","put","snapshot","getDownloadURL","url","user_uid_1","user_uid_2","getRealTimeConversations","uid_1","uid_2","orderBy","where","get","lastestDoc","docs","length","onSnapshot","querySnapshot","conversations","forEach","push","reverse","Header","useSelector","state","useDispatch","className","to","src","authenticated","onClick","update","signOut","clear","Layout","props","children","Input","value","label","onChange","placeholder","useState","inputGroup","setInputGroup","onFocus","e","target","Card","Button","Title","Error","SignUp","form","setForm","handleSignUp","preventDefault","onSubmit","Login","signInWithEmailAndPassword","avatarUrl","photoURL","split","stringArray","Array","i","Home","isSelected","setIsSelected","userSelected","setUserSelected","setMessage","messageImg","setMessageImg","users","loadingUser","loadingChat","viewUser","unsubscribe","snap","useEffect","chatArea","document","getElementById","scrollTop","scrollHeight","img","addEventListener","viewFile","messImgElement","querySelector","classList","URL","createObjectURL","files","submitMessage","handleSeen","setSeenMessage","map","item","index","initChat","querySelectorAll","remove","selectItem","noavt","alt","onScroll","body","clientHeight","id","click","Loading","PostDetail","post","postbykey","loading","comments","React","replySelected","setReplySelected","commentValue","setCommentValue","replies","key","Mint","status","content","newArr","closeReplyComment","openReplyComment","toDate","toDateString","comment","pid","liked","pushPostComment","ModalPost","postImage","setPostImage","filePost","postImageElement","imageBox","postText","pushPost","ModalUpdateAvatar","temp","setTemp","closeModalPost","modal","fileInput","useRef","imgSrc","viewPhoto","el","task","userLocal","getItem","parse","notify","ProfilePage","posts","openPostDetail","postRef","commentRef","postItem","commentSnapShot","commentItem","getPostByKey","loadingPost","PrivateRoute","Component","component","rest","App","routes","path","Profile","route","exact","initialState","authenticating","updating","posting","loadingPosts","posted","myReducers","combineReducers","action","lastDoc","store","createStore","rootReducers","applyMiddleware","thunk","window","ReactDOM","render"],"mappings":"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","file":"static/js/main.6ce04adf.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/storage\";\r\nvar firebaseConfig = {\r\n  apiKey: \"AIzaSyDhWHYUo31EhafDtO8OdAlDZthmVN85TPI\",\r\n  authDomain: \"realtime-chat-ap.firebaseapp.com\",\r\n  projectId: \"realtime-chat-ap\",\r\n  storageBucket: \"realtime-chat-ap.appspot.com\",\r\n  messagingSenderId: \"930254441751\",\r\n  appId: \"1:930254441751:web:c256a9a83d26e7af4d7b52\",\r\n  measurementId: \"G-8Q95J2GC5R\",\r\n};\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\nexport default firebase;\r\n","export const authConstants = {\r\n    USER_LOGIN : 'USER_LOGIN',\r\n    USER_LOGOUT : 'USER_LOGOUT',\r\n    UPDATE_USER_AVATAR : 'UPDATE_USER_AVATAR'\r\n}\r\n\r\nexport const userConstants = {\r\n    GET_REALTIME_USERS : 'GET_REALTIME_USERS',\r\n    UPDATE_MESSAGE : 'UPDATE_MESSAGE',\r\n    GET_REALTIME_MESSAGE : 'GET_REALTIME_MESSAGE',\r\n    SET_SEEN_MESSAGE : 'SET_SEEN_MESSAGE',\r\n    GET_LOADMORE_MESSAGE : 'GET_LOADMORE_MESSAGE',\r\n\r\n}\r\nexport const postConstants = {\r\n    PUSH_POST : 'PUSH_POST',\r\n    GET_REALTIME_POSTS : 'GET_REALTIME_POSTS',\r\n    GET_POST_BY_KEY:'GET_POST_BY_KEY',\r\n    CLEAR_POST_ITEM :'CLEAR_POST_ITEM',\r\n    PUSH_COMMENT : 'PUSH_COMMENT'\r\n}","import firebase from \"../database/firebase\";\r\nimport { authConstants } from \"./constants\";\r\nexport const signUp = (user) => {\r\n  return async (dispatch) => {\r\n    const db = firebase.firestore();\r\n    dispatch({\r\n      type: `${authConstants.USER_LOGIN}_REQUEST`,\r\n    });\r\n    firebase\r\n      .auth()\r\n      .createUserWithEmailAndPassword(user.email, user.password)\r\n      .then((data) => {\r\n        const currentUser = firebase.auth().currentUser;\r\n        const name = `${user.firstName} ${user.lastName}`;\r\n        currentUser\r\n          .updateProfile({\r\n            displayName: name,\r\n          })\r\n          .then(() => {\r\n            db.collection(\"users\")\r\n              .doc(data.user.uid)\r\n              .set({\r\n                firstName: user.firstName,\r\n                lastName: user.lastName,\r\n                createdAt: new Date(),\r\n                uid: data.user.uid,\r\n                isOnline: true,\r\n              })\r\n              .then(() => {\r\n                const loggedUser = {\r\n                  firstName: user.firstName,\r\n                  lastName: user.lastName,\r\n                  uid: data.user.uid,\r\n                  email: user.email,\r\n                };\r\n                localStorage.setItem(\r\n                  \"user\",\r\n                  JSON.stringify({\r\n                    loggedUser,\r\n                  })\r\n                );\r\n                dispatch({\r\n                  type: `${authConstants.USER_LOGIN}_SUCCESS`,\r\n                  payload: { user: loggedUser },\r\n                });\r\n              })\r\n              .catch((err) => {\r\n                dispatch({\r\n                  type: `${authConstants.USER_LOGIN}_FAILURE`,\r\n                  payload: err,\r\n                });\r\n              });\r\n          });\r\n      })\r\n      .catch((error) => {\r\n        dispatch({\r\n          type: `${authConstants.USER_LOGIN}_FAILURE`,\r\n          payload: { error: error.message },\r\n        });\r\n      });\r\n  };\r\n};\r\n\r\nexport const signIn = (user) => {\r\n  return async (dispatch) => {\r\n    dispatch({\r\n      type: `${authConstants.USER_LOGIN}_REQUEST`,\r\n    });\r\n    const db = firebase.firestore();\r\n    firebase\r\n      .auth()\r\n      .signInWithEmailAndPassword(user.email, user.password)\r\n      .then((data) => {\r\n        db.collection(\"users\")\r\n          .doc(data.user.uid)\r\n          .update({\r\n            isOnline: true,\r\n          })\r\n          .then(() => {\r\n            var name = data.user.displayName;\r\n            const avatarUrl = data.user.photoURL;\r\n            name = name.split(\" \");\r\n            var stringArray = new Array();\r\n            for (var i = 0; i < name.length; i++) {\r\n              stringArray.push(name[i]);\r\n            }\r\n            const firstName = name[0];\r\n            const lastName = name[1];\r\n            const loggedUser = {\r\n              firstName,\r\n              lastName,\r\n              uid: data.user.uid,\r\n              email: data.user.email,\r\n              avatarUrl,\r\n            };\r\n            localStorage.setItem(\r\n              \"user\",\r\n              JSON.stringify({\r\n                user: loggedUser,\r\n              })\r\n            );\r\n            dispatch({\r\n              type: `${authConstants.USER_LOGIN}_SUCCESS`,\r\n              payload: { user: loggedUser },\r\n            });\r\n          });\r\n      })\r\n      .catch((err) => {\r\n        dispatch({\r\n          type: `${authConstants.USER_LOGIN}_FAILURE`,\r\n          payload: { error: err.message },\r\n        });\r\n      });\r\n  };\r\n};\r\n\r\nexport const isLoggedInUser = () => {\r\n  return async (dispatch) => {\r\n    const user = localStorage.getItem(\"user\")\r\n      ? JSON.parse(localStorage.getItem(\"user\"))\r\n      : null;\r\n    if (user) {\r\n      dispatch({\r\n        type: `${authConstants.USER_LOGIN}_SUCCESS`,\r\n        payload: { user: user.user },\r\n      });\r\n    } else {\r\n      dispatch({\r\n        type: `${authConstants.USER_LOGIN}_FAILURE`,\r\n        payload: { error: \"\" },\r\n      });\r\n    }\r\n  };\r\n};\r\n\r\nexport const logout = (uid) => {\r\n  return async (dispatch) => {\r\n    dispatch({ type: `${authConstants.USER_LOGOUT}_REQUEST` });\r\n    const db = firebase.firestore();\r\n    db.collection(\"users\")\r\n      .doc(uid)\r\n      .update({\r\n        isOnline: false,\r\n      })\r\n      .then(() => {\r\n        firebase\r\n          .auth()\r\n          .signOut()\r\n          .then(() => {\r\n            localStorage.clear();\r\n            dispatch({ type: `${authConstants.USER_LOGOUT}_SUCCESS` });\r\n          })\r\n          .catch((err) => {\r\n            dispatch({\r\n              type: `${authConstants.USER_LOGOUT}_FAILURE`,\r\n              payload: { error: err },\r\n            });\r\n          });\r\n      });\r\n  };\r\n};\r\n\r\nexport const updateUserAvatar = (uid, file) => {\r\n  return async (dispatch) => {\r\n    dispatch({ type: `${authConstants.UPDATE_USER_AVATAR}_REQUEST` });\r\n    const db = firebase.firestore();\r\n    const ref = firebase.storage().ref();\r\n    const name = new Date() + \"-\" + file.name;\r\n    const metaData = file.type;\r\n    const task = ref.child(name).put(file, metaData);\r\n    var userLocal = localStorage.getItem(\"user\")\r\n      ? JSON.parse(localStorage.getItem(\"user\"))\r\n      : null;\r\n    task.then((snapshot) => {\r\n      snapshot.ref\r\n        .getDownloadURL()\r\n        .then((url) => {\r\n          const user = firebase.auth().currentUser;\r\n          user.updateProfile({\r\n            photoURL: url,\r\n          });\r\n          db.collection(\"users\").doc(uid).update({\r\n            avatarUrl: url,\r\n          });\r\n\r\n          userLocal = {\r\n            ...userLocal.user,\r\n            avatarUrl: url,\r\n          };\r\n          localStorage.setItem(\r\n            \"user\",\r\n            JSON.stringify({\r\n              user: userLocal,\r\n            })\r\n          );\r\n        })\r\n\r\n        .then(() => {\r\n          dispatch({\r\n            type: `${authConstants.UPDATE_USER_AVATAR}_SUCCESS`,\r\n            payload: { notify: \"Update successfully\",  avatarUrl : userLocal.avatarUrl },\r\n          });\r\n        })\r\n        .catch((err) => {\r\n          dispatch({\r\n            type: `${authConstants.UPDATE_USER_AVATAR}_FALURE`,\r\n            payload: { error: err },\r\n          });\r\n        });\r\n    });\r\n  };\r\n};\r\n","import { userConstants } from \"./constants\";\r\nimport firebase from \"../database/firebase\";\r\nexport const getRealTimeUser = (uid) => {\r\n  return async (dispatch) => {\r\n    dispatch({ type: `${userConstants.GET_REALTIME_USERS}_REQUEST` });\r\n    const db = firebase.firestore();\r\n\r\n    const unsubscribe = db\r\n      .collection(\"users\")\r\n      .where(\"uid\", \"!=\", uid)\r\n      .onSnapshot(function (snap) {\r\n        const users = [];\r\n        snap.forEach((doc) => {\r\n          if (doc.data().length != users.length) {\r\n            users.push(doc.data());\r\n          }\r\n        });\r\n        dispatch({\r\n          type: `${userConstants.GET_REALTIME_USERS}_SUCCESS`,\r\n          payload: { users },\r\n        });\r\n      });\r\n    return unsubscribe;\r\n  };\r\n};\r\nexport const updateMessage = ({ msgObj, type }) => {\r\n  return async (dispatch) => {\r\n    dispatch({ type: `${userConstants.UPDATE_MESSAGE}_REQUEST` });\r\n    const db = firebase.firestore();\r\n    if (type != \"file\") {\r\n      db.collection(\"conversations\")\r\n        .add({\r\n          ...msgObj,\r\n          type: \"text\",\r\n          isView: false,\r\n          createdAt: new Date(),\r\n        })\r\n        .then((data) => {\r\n          dispatch({ type: `${userConstants.UPDATE_MESSAGE}_SUCCESS` });\r\n        })\r\n        .catch((error) => {\r\n          dispatch({\r\n            type: `${userConstants.UPDATE_MESSAGE}_REQUEST`,\r\n            payload: { error: error.message },\r\n          });\r\n        });\r\n    } else {\r\n      const ref = firebase.storage().ref();\r\n      const name = new Date() + \"-\" + msgObj.file.name;\r\n      const metaData = {\r\n        contentType: msgObj.file.type,\r\n      };\r\n      const task = ref.child(name).put(msgObj.file, metaData);\r\n      task.then((snapshot) => {\r\n        snapshot.ref.getDownloadURL().then((url) => {\r\n          db.collection(\"conversations\")\r\n            .add({\r\n              user_uid_1: msgObj.user_uid_1,\r\n              user_uid_2: msgObj.user_uid_2,\r\n              file: url,\r\n              type: \"file\",\r\n              isView: false,\r\n              createdAt: new Date(),\r\n            })\r\n            .then((data) => {\r\n              dispatch({ type: `${userConstants.UPDATE_MESSAGE}_SUCCESS` });\r\n            })\r\n            .catch((error) => {\r\n              dispatch({\r\n                type: `${userConstants.UPDATE_MESSAGE}_REQUEST`,\r\n                payload: { error: error.message },\r\n              });\r\n            });\r\n        });\r\n      });\r\n    }\r\n  };\r\n};\r\nexport const setSeenMessage = ({ uid_1, uid_2 }) => {\r\n  return async (dispatch) => {\r\n    dispatch({ type: `${userConstants.SET_SEEN_MESSAGE}_REQUEST` });\r\n    const db = firebase.firestore();\r\n    db.collection(\"conversations\")\r\n      .where(\"user_uid_1\", \"==\", uid_2)\r\n      .where(\"user_uid_2\", \"==\", uid_1)\r\n      .orderBy(\"createdAt\", \"desc\")\r\n      .onSnapshot((querySnapshot) => {\r\n        querySnapshot.forEach((doc) => {\r\n          doc.ref.update({\r\n            isView: true,\r\n          });\r\n        });\r\n      });\r\n  };\r\n};\r\nexport const getLoadMoreConversations = ({ uid_1, uid_2, lastestDoc }) => {\r\n  return async (dispatch) => {\r\n    dispatch({ type: `${userConstants.GET_LOADMORE_MESSAGE}_REQUEST` });\r\n    const db = firebase.firestore();\r\n\r\n    const ref = db\r\n      .collection(\"conversations\")\r\n      .orderBy(\"createdAt\", \"desc\")\r\n      .where(\"user_uid_1\", \"in\", [uid_2, uid_1])\r\n      .startAfter(lastestDoc || 0)\r\n      .limit(10);\r\n    const data = await ref.get();\r\n    lastestDoc = data.docs[data.docs.length - 1];\r\n    const conversations = [];\r\n    data.docs.forEach((doc) => {\r\n      conversations.push(doc.data());\r\n    });\r\n    if (conversations !== []) {\r\n      dispatch({\r\n        type: `${userConstants.GET_LOADMORE_MESSAGE}_SUCCESS`,\r\n        payload: { conversations: conversations.reverse(), lastestDoc },\r\n      });\r\n    } else {\r\n      dispatch({\r\n        type: `${userConstants.GET_LOADMORE_MESSAGE}_FAILURE`,\r\n        payload: { error: \"END\" },\r\n      });\r\n    }\r\n  };\r\n};\r\nexport const getRealTimeConversations = ({ uid_1, uid_2, type }) => {\r\n  return async (dispatch) => {\r\n    dispatch({ type: `${userConstants.GET_REALTIME_MESSAGE}_REQUEST` });\r\n    const db = firebase.firestore();\r\n    const ref = db\r\n      .collection(\"conversations\")\r\n      .orderBy(\"createdAt\", \"desc\")\r\n      .where(\"user_uid_1\", \"in\", [uid_2, uid_1]);\r\n    const data = await ref.get();\r\n    const lastestDoc = data.docs[data.docs.length - 1];\r\n    db.collection(\"conversations\")\r\n      .orderBy(\"createdAt\", \"desc\")\r\n      .where(\"user_uid_1\", \"in\", [uid_1, uid_2])\r\n      .onSnapshot((querySnapshot) => {\r\n        const conversations = [];\r\n        querySnapshot.forEach((doc) => {\r\n          if (\r\n            (doc.data().user_uid_1 == uid_1 &&\r\n              doc.data().user_uid_2 == uid_2) ||\r\n            (doc.data().user_uid_1 == uid_2 && doc.data().user_uid_2 == uid_1)\r\n          ) {\r\n            conversations.push(doc.data());\r\n          }\r\n        });\r\n        dispatch({\r\n          type: `${userConstants.GET_REALTIME_MESSAGE}_SUCCESS`,\r\n          payload: { conversations: conversations.reverse(), lastestDoc },\r\n        });\r\n      });\r\n  };\r\n};\r\n","import React from \"react\";\r\nimport \"./style.scss\";\r\nimport { Link, NavLink } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { isLoggedInUser, logout } from \"../../actions\";\r\nexport default function Header() {\r\n  const auth = useSelector(state=>state.auth)\r\n  const dispatch = useDispatch()\r\n\r\n  const handleLogout = ()=>{\r\n      dispatch(logout(auth.uid))\r\n  }\r\n  return (\r\n    <div className=\"header\">\r\n      <div className=\"navBar\">\r\n        <div className=\"navSide\">\r\n          <ul className=\"navWrap\">\r\n            <li className=\"navItem\">\r\n              <NavLink to=\"/realtime-chat-application\" className=\"navLink\">\r\n                HOME\r\n              </NavLink>\r\n            </li>\r\n            <li className=\"navItem\">\r\n              <NavLink to=\"/about\" className=\"navLink\">\r\n                ABOUT\r\n              </NavLink>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n        <div className=\"logoArea\">\r\n          <img src=\"https://www.williamdollace.it/wp-content/themes/williamdollacetheme/images/logo.svg\" />\r\n        </div>\r\n        <div className=\"navSide\">\r\n          {!auth.authenticated ? <ul className=\"navWrap\">\r\n            <li className=\"navItem\">\r\n              <NavLink to=\"/login\" className=\"navLink\">\r\n                LOGIN\r\n              </NavLink>\r\n            </li>\r\n            <li className=\"navItem\">\r\n              <NavLink to=\"/signup\" className=\"navLink\">\r\n                SIGN UP\r\n              </NavLink>\r\n            </li>\r\n          </ul>:\r\n          <ul className=\"navWrap\">\r\n          <li className=\"navItem\">\r\n          <NavLink to=\"/profile\" className=\"navLink\">\r\n               {auth.firstName} PROFILE\r\n              </NavLink>\r\n          </li>\r\n          <li className=\"navItem\">\r\n            <Link to=\"#\" onClick={handleLogout} className=\"navLink\">\r\n              LOG OUT\r\n            </Link>\r\n          </li>\r\n        </ul>\r\n          }\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react'\r\nimport Header from '../../components/Header/index'\r\nexport default function Layout(props) {\r\n    return (\r\n        <div className='layout'>\r\n            <Header/>\r\n            {props.children}\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState } from 'react'\r\nimport './style.scss'\r\nexport default function Input({value,type,label,onChange,placeholder}) {\r\n    const [inputGroup,setInputGroup] = useState('inputGroup')\r\n    const handleChange = (e)=>{\r\n        const {value}=e.target;\r\n        onChange(value);\r\n    }\r\n    const onFocus = (e)=>{\r\n        setInputGroup('inputGroup onFocus')\r\n    }\r\n    return (\r\n        <div className={inputGroup}>\r\n            <label>{label}</label>\r\n            <input type={type} onFocus={onFocus} onChange={handleChange} placeholder={placeholder} value={value} />\r\n            <div className='line'></div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport './style.scss'\r\nexport default function Card(props) {\r\n    return (\r\n        <div className='card'>\r\n            {props.children}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport './style.scss'\r\nexport default function Button(props) {\r\n    return (\r\n        <button type={props.type} onClick={props.onClick} className='buttonGold'>{props.children}</button>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport './style.scss'\r\nexport default function Title(props) {\r\n    return (\r\n        <div className='title'>\r\n            <p >{props.children}</p>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport './style.scss'\r\nimport {RiErrorWarningFill} from 'react-icons/ri'\r\nconst Error = (props)=>{\r\n    return(\r\n        <div className='error'>\r\n            <p>{props.children}</p>\r\n            <RiErrorWarningFill className='icon'/>\r\n        </div>\r\n    )\r\n}\r\nexport default Error","import React, { useState } from \"react\";\r\nimport Layout from \"../../components/Layout\";\r\nimport Input from \"../../components/Layout/UI/Input/index\";\r\nimport Card from \"../../components/Layout/UI/Card/index\";\r\nimport Button from \"../../components/Layout/UI/Button/index\";\r\nimport Title from \"../../components/Layout/UI/Title/index\";\r\nimport Error from '../../components/Layout/UI/Error/index'\r\nimport { signUp } from \"../../actions\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\nexport default function SignUp() {\r\n  const dispatch = useDispatch();\r\n  const auth = useSelector((state) => state.auth);\r\n  const [form, setForm] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n    firstName: \"\",\r\n    lastName: \"\",\r\n  });\r\n  const handleSignUp = async (e) => {\r\n    e.preventDefault();\r\n    dispatch(signUp(form));\r\n  };\r\n  if (auth.authenticated === true) {\r\n    return <Redirect to=\"/realtime-chat-application\" />;\r\n  } else {\r\n    return (\r\n      <Layout>\r\n        <Card>\r\n          <form onSubmit={handleSignUp} className=\"authForm\">\r\n            <Title>SIGN UP</Title>\r\n            <Input\r\n              type=\"text\"\r\n              label=\"First name\"\r\n              placeholder=\"\"\r\n              onChange={(value) => setForm({ ...form, firstName: value })}\r\n            />\r\n            <Input\r\n              type=\"text\"\r\n              label=\"Last name\"\r\n              placeholder=\"\"\r\n              onChange={(value) => setForm({ ...form, lastName: value })}\r\n            />\r\n            <Input\r\n              type=\"text\"\r\n              label=\"Email\"\r\n              placeholder=\"\"\r\n              onChange={(value) => setForm({ ...form, email: value })}\r\n            />\r\n            <Input\r\n              type=\"password\"\r\n              label=\"Password\"\r\n              placeholder=\"\"\r\n              onChange={(value) => setForm({ ...form, password: value })}\r\n            />\r\n            {\r\n              auth.error ? <Error>{auth.error}</Error>: <></>\r\n            }\r\n            <Button type=\"submit\">SIGN UP</Button>\r\n          </form>\r\n        </Card>\r\n      </Layout>\r\n    );\r\n  }\r\n}\r\n","import React, { useState } from \"react\";\r\nimport Layout from \"../../components/Layout\";\r\nimport Input from \"../../components/Layout/UI/Input/index\";\r\nimport Card from \"../../components/Layout/UI/Card/index\";\r\nimport Button from \"../../components/Layout/UI/Button/index\";\r\nimport Title from \"../../components/Layout/UI/Title/index\";\r\nimport Error from \"../../components/Layout/UI/Error/index\";\r\nimport \"./style.scss\";\r\nimport { signIn } from \"../../actions/auth\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\nconst Login = () => {\r\n  const dispatch = useDispatch();\r\n  const auth = useSelector((state) => state.auth);\r\n  const [form, setForm] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n  const handleLogin = (e) => {\r\n    e.preventDefault();\r\n    dispatch(signIn(form));\r\n  };\r\n  if (auth.authenticated === true) {\r\n    return <Redirect to=\"/realtime-chat-application\" />;\r\n  } else {\r\n    return (\r\n      <Layout>\r\n        <Card>\r\n          <form onSubmit={handleLogin} className=\"authForm\">\r\n            <Title>Login</Title>\r\n            <Input\r\n              type=\"email\"\r\n              label=\"Email\"\r\n              placeholder=\"\"\r\n              onChange={(value) => setForm({ ...form, email: value })}\r\n            />\r\n            <Input\r\n              type=\"password\"\r\n              label=\"Password\"\r\n              placeholder=\"\"\r\n              onChange={(value) => setForm({ ...form, password: value })}\r\n            />\r\n            {auth.error ? <Error>{auth.error}</Error> : <></>}\r\n            <Button type=\"submit\">LOG IN</Button>\r\n          </form>\r\n        </Card>\r\n      </Layout>\r\n    );\r\n  }\r\n};\r\nexport default Login;\r\n","export default __webpack_public_path__ + \"static/media/mint.98ef681e.jpg\";","export default __webpack_public_path__ + \"static/media/noavtar.a69237c0.png\";","import React, { useEffect, useState } from \"react\";\r\nimport Layout from \"../../components/Layout/index\";\r\nimport Mint from \"../../images/mint.jpg\";\r\nimport Button from \"../../components/Layout/UI/Button/index\";\r\nimport \"./style.scss\";\r\nimport {\r\n  AiOutlinePlusCircle,\r\n  AiOutlineFileGif,\r\n  AiOutlinePicture,\r\n  AiOutlineHeart,\r\n  AiOutlinePhone,\r\n  AiOutlineInfoCircle,\r\n  AiOutlineSend,\r\n  AiOutlineCheckCircle,\r\n  AiFillCheckCircle,\r\n} from \"react-icons/ai\";\r\nimport { BiLoaderCircle } from \"react-icons/bi\";\r\nimport { RiSendPlaneFill } from \"react-icons/ri\";\r\nimport { BsCameraVideo } from \"react-icons/bs\";\r\nimport { MdTagFaces } from \"react-icons/md\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  getLoadMoreConversations,\r\n  getRealTimeConversations,\r\n  getRealTimeUser,\r\n  setSeenMessage,\r\n  updateMessage,\r\n} from \"../../actions\";\r\nimport noavt from '../../images/noavtar.png'\r\nimport Title from \"../../components/Layout/UI/Title/index\";\r\nconst Home = () => {\r\n  const [isSelected, setIsSelected] = useState(\"\");\r\n  const [userSelected, setUserSelected] = useState(\"\");\r\n  const [message, setMessage] = useState(\"\");\r\n  const [messageImg, setMessageImg] = useState(\"\");\r\n  const dispatch = useDispatch();\r\n\r\n  const {\r\n    users,\r\n    conversations,\r\n    loadingUser,\r\n    loadingChat,\r\n    lastestDoc,\r\n  } = useSelector((state) => state.user);\r\n  const auth = useSelector((state) => state.auth);\r\n\r\n  const viewUser = () => {\r\n    dispatch(getRealTimeUser(auth.uid));\r\n  };\r\n  useEffect(() => {\r\n    viewUser();\r\n  }, []);\r\n  const selectItem = (index) => {\r\n    if (isSelected !== \"\") {\r\n      const prevItem = document.querySelectorAll(\".friend\")[isSelected];\r\n      prevItem.classList.remove(\"isSelected\");\r\n      const curItem = document.querySelectorAll(\".friend\")[index];\r\n      curItem.classList.add(\"isSelected\");\r\n      setIsSelected(index);\r\n    } else {\r\n      const curItem = document.querySelectorAll(\".friend\")[index];\r\n      curItem.classList.add(\"isSelected\");\r\n      setIsSelected(index);\r\n    }\r\n  };\r\n  const initChat = (user) => {\r\n    const users = { uid_1: auth.uid, uid_2: user.uid };\r\n    setUserSelected(user);\r\n    dispatch(getRealTimeConversations(users));\r\n  };\r\n  useEffect(() => {\r\n    if (userSelected != \"\") {\r\n      dispatch(\r\n        getRealTimeConversations({\r\n          uid_1: auth.uid,\r\n          uid_2: userSelected.uid,\r\n          type: \"afterSend\",\r\n        })\r\n      );\r\n    }\r\n  }, [userSelected]);\r\n  useEffect(() => {\r\n    if (userSelected != \"\" && !loadingChat) {\r\n      let chatArea = document.getElementById(\"chatArea\");\r\n      chatArea.scrollTop = chatArea.scrollHeight;\r\n    }\r\n  }, [conversations]);\r\n  useEffect(() => {\r\n    if (messageImg != \"\") {\r\n      img.addEventListener(\"change\", viewFile);\r\n    }\r\n  }, [messageImg]);\r\n\r\n  const img = document.getElementById(\"fileInput\");\r\n  const messImgElement = document.getElementById(\"messageImg\");\r\n  const openFile = (e) => {\r\n    img.click();\r\n    setMessageImg(\"advanced\");\r\n  };\r\n  const viewFile = (e) => {\r\n    const fileSend = document.querySelector(\".fileSend\");\r\n    fileSend.classList.add(\"hasFile\");\r\n    messImgElement.src = URL.createObjectURL(img.files[0]);\r\n  };\r\n\r\n  const submitMessageFile = (e) => {\r\n    e.preventDefault();\r\n    const msgObj = {\r\n      user_uid_1: auth.uid,\r\n      user_uid_2: userSelected.uid,\r\n      file: img.files[0],\r\n    };\r\n\r\n    dispatch(updateMessage({ msgObj: msgObj, type: \"file\" }));\r\n    const fileSend = document.querySelector(\".fileSend\");\r\n    fileSend.classList.remove(\"hasFile\");\r\n    messImgElement.src = \"\";\r\n    dispatch(\r\n      getRealTimeConversations({\r\n        uid_1: auth.uid,\r\n        uid_2: userSelected.uid,\r\n        type: \"afterSend\",\r\n      })\r\n    );\r\n  };\r\n  const submitMessage = (e) => {\r\n    e.preventDefault();\r\n    const msgObj = {\r\n      user_uid_1: auth.uid,\r\n      user_uid_2: userSelected.uid,\r\n      message,\r\n    };\r\n    if (message !== \"\") {\r\n      dispatch(updateMessage({ msgObj: msgObj }));\r\n      dispatch(\r\n        getRealTimeConversations({\r\n          uid_1: auth.uid,\r\n          uid_2: userSelected.uid,\r\n          type: \"afterSend\",\r\n        })\r\n      );\r\n\r\n      // let chatArea = document.getElementById(\"chatArea\");\r\n      // chatArea.scrollTop = chatArea.scrollHeight;\r\n\r\n      setMessage(\"\");\r\n    }\r\n  };\r\n  const handleScroll = () => {\r\n    let body = document.body;\r\n    let chatArea = document.querySelector(\".chatArea\");\r\n    chatArea = chatArea.clientHeight ? chatArea : body;\r\n\r\n    if (chatArea.scrollTop == 0) {\r\n      // const users = { uid_1: auth.uid, uid_2: userSelected.uid,lastestDoc };\r\n      // dispatch(getLoadMoreConversations(users))\r\n      // console.log(users)\r\n    }\r\n  };\r\n  const handleSeen = (e) => {\r\n    dispatch(setSeenMessage({ uid_1: auth.uid, uid_2: userSelected.uid }));\r\n  };\r\n  return (\r\n    <Layout>\r\n      <div className=\"homePage\">\r\n        {!loadingUser ? (\r\n          <div className=\"friendList\">\r\n            {users.map((item, index) => (\r\n              <div\r\n                key={index}\r\n                onClick={() => {\r\n                  initChat(item);\r\n                  selectItem(index);\r\n                }}\r\n                className=\"friend\"\r\n              >\r\n                <div className=\"avatar\">\r\n                  <img src={item.avatarUrl!=null ? item.avatarUrl : noavt} alt=\"avatar\" />\r\n                  <span\r\n                    className={item.isOnline ? \"isOnline\" : \"isOffline\"}\r\n                  ></span>\r\n                </div>\r\n                <div className=\"friendState\">\r\n                  <p className=\"friendName\">\r\n                    {item.firstName + \" \" + item.lastName}\r\n                  </p>\r\n                  <div className=\"friendLastText\">\r\n                    <p className=\"lastText\">See you again </p>\r\n                    <span></span>\r\n                    <p>4 hours ago</p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"friendButton\">\r\n                  <button>\r\n                    <div className=\"circle\"></div>\r\n                    <div className=\"circle\"></div>\r\n                    <div className=\"circle\"></div>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        ) : (\r\n          <div className=\"friendList loading\">\r\n            <BiLoaderCircle className=\"icon\" />\r\n          </div>\r\n        )}\r\n        {userSelected !== \"\" ? (\r\n          <div className=\"chatBox\">\r\n            <div className=\"headBox\">\r\n              <div className=\"headUser\">\r\n                <img alt=\"avatar\" src={userSelected.avatarUrl!=null ? userSelected.avatarUrl : noavt} />\r\n                <p>{userSelected.firstName}</p>\r\n              </div>\r\n              <div className=\"headCall\">\r\n                <AiOutlinePhone className=\"icon\" />\r\n                <BsCameraVideo className=\"icon\" />\r\n\r\n                <AiOutlineInfoCircle className=\"icon\" />\r\n              </div>\r\n            </div>\r\n            {!loadingChat ? (\r\n              <div onScroll={handleScroll} id=\"chatArea\" className=\"chatArea\">\r\n                <div className=\"chatAreaWrap\">\r\n                  {conversations.map((item, index) => (\r\n                    <div\r\n                      key={index}\r\n                      className={\r\n                        auth.uid == item.user_uid_1\r\n                          ? \"chatWrapper right\"\r\n                          : \"chatWrapper left\"\r\n                      }\r\n                    >\r\n                      {auth.uid !== item.user_uid_1 ? (\r\n                        <img className=\"avatar\" src={userSelected.avatarUrl!=null ? userSelected.avatarUrl : noavt}  />\r\n                      ) : (\r\n                        <></>\r\n                      )}\r\n                      {item.type !== \"file\" ? (\r\n                        <div className='messageWrap'>\r\n                          <p key={index}>{item.message}</p>\r\n                        </div>\r\n\r\n                      ) : (\r\n                        <img\r\n                          className=\"messageFile\"\r\n                          src={item.file}\r\n                          key={index}\r\n                        />\r\n                      )}\r\n                      <AiOutlineCheckCircle\r\n                        className={\r\n                          auth.uid == item.user_uid_1 && !item.isView\r\n                            ? \"icon\"\r\n                            : \"icon gone\"\r\n                        }\r\n                      />\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <div className=\"chatArea loading\">\r\n                <BiLoaderCircle className=\"icon\" />\r\n              </div>\r\n            )}\r\n            <div className=\"typeArea\">\r\n              <div className=\"action\">\r\n                <div className=\"fileSend\">\r\n                  <img id=\"messageImg\" />\r\n\r\n                  <div className=\"before\"></div>\r\n                  <AiOutlineSend onClick={submitMessageFile} className=\"icon\" />\r\n                </div>\r\n                <div className=\"actionWrap\">\r\n                  <input type=\"file\" className=\"fileInput\" />\r\n                  <AiOutlinePlusCircle className=\"icon\" />\r\n                </div>\r\n                <div className=\"actionWrap\">\r\n                  <input type=\"file\" id=\"fileInput\" className=\"fileInput\" />\r\n                  <AiOutlinePicture onClick={openFile} className=\"icon\" />\r\n                </div>\r\n                <div className=\"actionWrap\">\r\n                  <input type=\"file\" className=\"fileInput\" />\r\n                  <MdTagFaces className=\"icon\" />\r\n                </div>\r\n                <div className=\"actionWrap\">\r\n                  <input type=\"file\" className=\"fileInput\" />\r\n                  <AiOutlineFileGif className=\"icon\" />\r\n                </div>\r\n              </div>\r\n              <div className=\"input\">\r\n                <form onSubmit={submitMessage}>\r\n                  <input\r\n                    value={message}\r\n                    onClick={() => handleSeen()}\r\n                    onChange={(e) => setMessage(e.target.value)}\r\n                    type=\"text\"\r\n                    placeholder=\"Aa\"\r\n                  />\r\n                </form>\r\n                <MdTagFaces className=\"icon\" />\r\n              </div>\r\n              <div className=\"likeButton\">\r\n                {message === \"\" ? (\r\n                  <AiOutlineHeart className=\"icon\" />\r\n                ) : (\r\n                  <AiOutlineSend onClick={submitMessage} className=\"icon\" />\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"chatBox unSelected\">\r\n            <RiSendPlaneFill className=\"bigIcon\" />\r\n            <Title>Your Message</Title>\r\n            <p>Send private photos and messages to a friend or group.</p>\r\n            <Button>Send a message</Button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\nexport default Home;\r\n","import React from 'react'\r\nimport { BiLoaderCircle } from \"react-icons/bi\";\r\nimport './styles.scss'\r\nexport default function Loading() {\r\n    return (\r\n        <BiLoaderCircle className='loadingIcon'/>\r\n    )\r\n}\r\n","import React from \"react\";\r\nimport \"./style.scss\";\r\nimport Mint from \"../../images/mint.jpg\";\r\nimport { AiOutlineSend, AiOutlineHeart, AiOutlineClose } from \"react-icons/ai\";\r\nimport { VscBookmark } from \"react-icons/vsc\";\r\nimport { BsChat } from \"react-icons/bs\";\r\nimport Button from \"../Layout/UI/Button\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Loading from \"../Layout/UI/Loading\";\r\nimport { pushPost, pushPostComment } from \"../../actions/post\";\r\nconst PostDetail = () => {\r\n  var { item, loading, comments } = useSelector(\r\n    (state) => state.post.postbykey\r\n  );\r\n  const auth = useSelector((state) => state.auth);\r\n  const dispatch = useDispatch();\r\n\r\n  const [replySelected, setReplySelected] = React.useState([]);\r\n  const [commentValue, setCommentValue] = React.useState(\"\");\r\n\r\n  const closePostDetail = () => {\r\n    const postDetail = document.querySelector(\".postDetail\");\r\n    postDetail.classList.remove(\"open\");\r\n    const replies = document.querySelector(\".replies\");\r\n    if (replies != null) {\r\n      replies.classList.remove(\"view\");\r\n      const newArr = []\r\n      setReplySelected(newArr)\r\n    }\r\n  };\r\n  const hanldePostComment = (e) => {\r\n    e.preventDefault();\r\n    const comment = {\r\n      content: commentValue,\r\n      pid: item.key,\r\n      uid: auth.uid,\r\n    };\r\n    dispatch(pushPostComment(comment));\r\n    setCommentValue(\"\");\r\n  };\r\n  const openReplyComment = (index) => {\r\n    const newArr = [...replySelected];\r\n\r\n    document.querySelectorAll(\".replies\")[index].classList.add(\"view\");\r\n    newArr[index] = true;\r\n    setReplySelected(newArr);\r\n  };\r\n  const closeReplyComment = (index) => {\r\n    const newArr = [...replySelected];\r\n    document.querySelectorAll(\".replies\")[index].classList.remove(\"view\");\r\n    newArr[index] = false;\r\n    setReplySelected(newArr)\r\n  };\r\n  return (\r\n    <div className=\"postDetail\">\r\n      <AiOutlineClose className=\"exit\" onClick={closePostDetail} />\r\n      {loading ? (\r\n        <Loading />\r\n      ) : (\r\n        <div className=\"postWrapper\">\r\n          <div className=\"postImage\">\r\n            <img src={item.file} alt={item.key} />\r\n          </div>\r\n          <div className=\"postStatus\">\r\n            <div className=\"postOwner\">\r\n              <div className=\"ownerAvatar\">\r\n                <img src={Mint} alt={item.key} />\r\n                <p>mint_stillwalks</p>\r\n              </div>\r\n              <div className=\"more\">\r\n                <div className=\"circle\"></div>\r\n                <div className=\"circle\"></div>\r\n                <div className=\"circle\"></div>\r\n              </div>\r\n            </div>\r\n            <div className=\"postDescription\">\r\n              <div className=\"ownerAvatar\">\r\n                <img src={Mint} alt={Mint} />\r\n                <p className=\"name\">mint_stillwalks</p>\r\n                <p className=\"status\">{item.status}</p>\r\n              </div>\r\n              <div className=\"postedDate\">\r\n                <p>6d</p>\r\n              </div>\r\n              <div className=\"commentBox\">\r\n                {comments.map((item, index) => (\r\n                  <div key={index} className=\"comment\">\r\n                    <div className=\"ownerImage\">\r\n                      <img src={Mint} alt={Mint} />\r\n                    </div>\r\n                    <div className=\"ownerDetail\">\r\n                      <div className=\"ownerName\">\r\n                        <div className=\"content\">\r\n                          {\" \"}\r\n                          <p>mint_stillwalks</p>\r\n                          <p>{item.content}</p>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"reply\">\r\n                        <span>4d</span>\r\n                        <p>Reply</p>\r\n                        <div className=\"heartIcon\">\r\n                          <AiOutlineHeart className=\"icon\" />\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"viewReplies\">\r\n                        <div className=\"line\"></div>\r\n                        {replySelected[index] ? (\r\n                          <p onClick={() => closeReplyComment(index)}>\r\n                            Hide replies(2)\r\n                          </p>\r\n                        ) : (\r\n                          <p onClick={() => openReplyComment(index)}>\r\n                            View replies(2)\r\n                          </p>\r\n                        )}\r\n                      </div>\r\n                      <div className=\"replies\">\r\n                        <div className=\"replyItem\">\r\n                          <div className=\"ownerImage\">\r\n                            <img src={Mint} alt={Mint} />\r\n                          </div>\r\n                          <div className=\"ownerDetail\">\r\n                            <div className=\"ownerName\">\r\n                              <div className=\"content\">\r\n                                {\" \"}\r\n                                <p>mint_stillwalks</p>\r\n                                <p>{item.content}</p>\r\n                              </div>\r\n                            </div>\r\n\r\n                            <div className=\"reply\">\r\n                              <span>4d</span>\r\n                              <p>Reply</p>\r\n                              <div className=\"heartIcon\">\r\n                                <AiOutlineHeart className=\"icon\" />\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n              <div className=\"postLiked\">\r\n                <div className=\"iconBox\">\r\n                  <div className=\"likeIcon\">\r\n                    <AiOutlineHeart className=\"icon\" />\r\n                    <BsChat className=\"icon\" />\r\n                    <AiOutlineSend className=\"icon\" />\r\n                  </div>\r\n                  <div className=\"saveIcon\">\r\n                    <VscBookmark className=\"icon\" />\r\n                  </div>\r\n                </div>\r\n                <div className=\"likedBy\">\r\n                  <p>Liked by 0 peoples</p>\r\n                  <p>{item.createdAt.toDate().toDateString()}</p>\r\n                </div>\r\n              </div>\r\n              <form className=\"commentInput\">\r\n                <div className=\"input\">\r\n                  <input\r\n                    onChange={(e) => setCommentValue(e.target.value)}\r\n                    value={commentValue}\r\n                    id=\"postComment\"\r\n                    placeholder=\"Add comment here\"\r\n                  />\r\n                </div>\r\n                <div className=\"button\">\r\n                  <Button type=\"submit\" onClick={hanldePostComment}>\r\n                    Post\r\n                  </Button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\nexport default PostDetail;\r\n","import { postConstants } from \"./constants\";\r\nimport firebase from \"../database/firebase\";\r\n\r\nexport const pushPost = (post) => {\r\n  return async (dispatch) => {\r\n    dispatch({ type: `${postConstants.PUSH_POST}_REQUEST` });\r\n    const db = firebase.firestore();\r\n    const ref = firebase.storage().ref();\r\n    const name = new Date() + \"-\" + post.file.name;\r\n    const metaData = {\r\n      contentType: post.file.type,\r\n    };\r\n    const task = ref.child(name).put(post.file, metaData);\r\n    task.then((snapshot) => {\r\n      snapshot.ref.getDownloadURL().then((url) => {\r\n        db.collection(\"posts\")\r\n          .add({\r\n            file: url,\r\n            createdAt: new Date(),\r\n            status: post.status,\r\n            uid: post.uid,\r\n            liked: 0,\r\n          })\r\n          .then(() => {\r\n            dispatch({ type: `${postConstants.PUSH_POST}_SUCCESS` });\r\n          })\r\n          .catch((err) => {\r\n            dispatch({\r\n              type: `${postConstants.PUSH_POST}_FAILURE`,\r\n              payload: { error: err },\r\n            });\r\n          });\r\n      });\r\n    });\r\n  };\r\n};\r\n\r\nexport const getPostByKey = (key) => {\r\n  return async (dispatch) => {\r\n    dispatch({ type: `${postConstants.GET_POST_BY_KEY}_REQUEST` });\r\n    const db = firebase.firestore();\r\n    const postRef = db.collection(`posts`);\r\n    const commentRef = db.collection(\"comments\");\r\n    postRef.onSnapshot((snapshot) => {\r\n      let postItem = {};\r\n      commentRef.orderBy(\"createdAt\",\"desc\").where(\"pid\", \"==\", key).onSnapshot((commentSnapShot) => {\r\n        const comments = [];\r\n        commentSnapShot.forEach((commentItem) => {\r\n          comments.push(commentItem.data());\r\n        });\r\n        snapshot.forEach((doc) => {\r\n          if (doc.id == key) {\r\n            postItem = { key: doc.id, ...doc.data() };\r\n          }\r\n        });\r\n\r\n        if (postItem != {}) {\r\n          dispatch({\r\n            type: `${postConstants.GET_POST_BY_KEY}_SUCCESS`,\r\n            payload: { postItem ,comments },\r\n          });\r\n        } else {\r\n          dispatch({\r\n            type: `${postConstants.GET_POST_BY_KEY}_FAILURE`,\r\n            payload: { error: `Item with key ${key} does not exist` },\r\n          });\r\n        }\r\n      });\r\n    });\r\n  };\r\n};\r\nexport const getRealTimePosts = (uid) => {\r\n  return async (dispatch) => {\r\n    dispatch({ type: `${postConstants.GET_REALTIME_POSTS}_REQUEST` });\r\n    const db = firebase.firestore();\r\n    db.collection(\"posts\")\r\n      .where(\"uid\", \"==\", uid)\r\n      .orderBy(\"createdAt\", \"desc\")\r\n      .onSnapshot((snapshot) => {\r\n        const posts = [];\r\n        snapshot.forEach((doc) => {\r\n          posts.push({ key: doc.id, ...doc.data() });\r\n        });\r\n        dispatch({\r\n          type: `${postConstants.GET_REALTIME_POSTS}_SUCCESS`,\r\n          payload: { posts: posts },\r\n        });\r\n      });\r\n  };\r\n};\r\nexport const pushPostComment = (comment) => {\r\n  return async (dispatch) => {\r\n    debugger;\r\n    dispatch({ type: `${postConstants.PUSH_COMMENT}_REQUEST` });\r\n    const db = firebase.firestore();\r\n    db.collection(\"comments\")\r\n      .add({\r\n        ...comment,\r\n        createdAt: new Date(),\r\n        liked: 0,\r\n      })\r\n      .then(() => {\r\n        dispatch({ type: `${postConstants.PUSH_COMMENT}_SUCCESS` });\r\n      })\r\n      .catch({ type: `${postConstants.PUSH_COMMENT}_FAILURE` });\r\n  };\r\n};\r\n","import React from \"react\";\r\nimport \"./style.scss\";\r\nimport { AiOutlineClose, AiOutlinePicture } from \"react-icons/ai\";\r\nimport Mint from \"../../images/mint.jpg\";\r\nimport { BiLock, BiMap } from \"react-icons/bi\";\r\nimport Title from \"../../components/Layout/UI/Title/index\";\r\nimport Button from \"../Layout/UI/Button\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport { pushPost } from \"../../actions/post\";\r\nconst ModalPost = () => {\r\n  const dispatch = useDispatch();\r\n  const auth = useSelector((state) => state.auth);\r\n\r\n  const [postImage, setPostImage] = React.useState(\"\");\r\n\r\n  const closeModalPost = () => {\r\n    document.querySelector(\".modalPost\").classList.remove(\"open\");\r\n  };\r\n  const filePost = document.getElementById(\"filePost\");\r\n  const postImageElement = document.getElementById(\"postImageElement\");\r\n  const openFileInput = () => {\r\n    filePost.click();\r\n    setPostImage(\"advanced\");\r\n  };\r\n  const imageBox = document.querySelector(\".imageBox\");\r\n  const viewFile = (e) => {\r\n \r\n    imageBox.classList.add(\"hasFile\");\r\n\r\n    // console.log(filePost.files.length);\r\n    if (filePost.files.length > 0) {\r\n      postImageElement.src = URL.createObjectURL(filePost.files[0]);\r\n    }\r\n    setPostImage(\"\");\r\n  };\r\n  React.useEffect(() => {\r\n    if (postImage != \"\") {\r\n      filePost.addEventListener(\"change\", viewFile);\r\n    }\r\n  }, [postImage]);\r\n  const handlePost = () => {\r\n    var postText = document.getElementById(\"postText\").value;\r\n    if (filePost.files.length > 0) {\r\n      const post = {\r\n        file: filePost.files[0],\r\n        status: postText,\r\n        uid:auth.uid\r\n      };\r\n      dispatch(pushPost(post));\r\n      imageBox.classList.remove(\"hasFile\");\r\n      postImageElement.src = \"\";\r\n      postText = \"\";\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"modalPost\">\r\n      <div className=\"modalWrapper\">\r\n        <div className=\"head\">\r\n          <div className=\"title\">\r\n            <Title>Make a post</Title>\r\n          </div>\r\n          <AiOutlineClose onClick={closeModalPost} className=\"icon\" />\r\n        </div>\r\n        <div className=\"poster\">\r\n          <div className=\"posterImage\">\r\n            <img src={Mint} />\r\n          </div>\r\n          <div className=\"posterName\">\r\n            <p>Mint</p>\r\n            <div className=\"securityMode\">\r\n              <BiLock className=\"icon\" />\r\n              <span>Private</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"statusBox\">\r\n          <textarea\r\n            id=\"postText\"\r\n            placeholder=\"What are you thinking ?\"\r\n          ></textarea>\r\n          <div className=\"imageBox\">\r\n            <img id=\"postImageElement\" />\r\n          </div>\r\n        </div>\r\n        <div className=\"postButton\">\r\n          <Button onClick={handlePost}>Post</Button>\r\n          <div className=\"postIcon\">\r\n            <input type=\"file\" id=\"filePost\" />\r\n            <AiOutlinePicture onClick={openFileInput} className=\"icon\" />\r\n            <BiMap className=\"icon\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default ModalPost;\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport \"./style.scss\";\r\nimport Button from \"../Layout/UI/Button\";\r\nimport Mint from \"../../images/mint.jpg\";\r\nimport { AiOutlineClose } from \"react-icons/ai\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { updateUserAvatar } from \"../../actions/auth\";\r\nconst ModalUpdateAvatar = () => {\r\n    const dispatch = useDispatch()\r\n    const auth = useSelector(state => state.auth)\r\n  const [temp, setTemp] = useState(\"\");\r\n\r\n  const closeModalPost = () => {\r\n    modal.classList.remove('open')\r\n  };\r\n  let fileInput = useRef(null);\r\n  let imgSrc = useRef(null);\r\n  let modal = useRef(null)\r\n  const openFileInput = () => {\r\n    fileInput.click();\r\n    setTemp(\"advanced\");\r\n  };\r\n  const viewPhoto = () => {\r\n    if (fileInput.files.length > 0) {\r\n      imgSrc.src = URL.createObjectURL(fileInput.files[0]);\r\n    }\r\n  };\r\n  const handleUpdateAvatar = ()=>{\r\n      dispatch(updateUserAvatar(auth.uid,fileInput.files[0]))\r\n  }\r\n  useEffect(() => {\r\n    if (temp == \"advanced\") {\r\n      fileInput.addEventListener(\"change\", viewPhoto);\r\n    }\r\n  }, [temp]);\r\n  return (\r\n    <div ref={el=>modal=el} className=\"modalUpdateAvatar\">\r\n      <div className=\"modalWrapper\">\r\n        <AiOutlineClose onClick={closeModalPost} className=\"icon\" />\r\n        <div className=\"modalTitle\">\r\n          <p>Update Avatar</p>\r\n        </div>\r\n        <div className=\"openFile\">\r\n          <button onClick={openFileInput}>Choose a file</button>\r\n          <input\r\n            type=\"file\"\r\n            className=\"input\"\r\n            ref={(el) => {\r\n              fileInput = el;\r\n            }}\r\n          />\r\n        </div>\r\n        <div className=\"avatarBox\">\r\n          <div className=\"avatarWrap\">\r\n            <img\r\n              id=\"image\"\r\n              ref={(el) => {\r\n                imgSrc = el;\r\n              }}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"updateBtn\">\r\n          <Button onClick={handleUpdateAvatar}>Save</Button>\r\n          <Button onClick={closeModalPost}>Cancel</Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default ModalUpdateAvatar;\r\n","import React from \"react\";\r\nimport Layout from \"../../components/Layout\";\r\nimport Button from \"../../components/Layout/UI/Button/index\";\r\nimport {\r\n  AiOutlineSetting,\r\n  AiOutlinePlusCircle,\r\n  AiOutlineHeart,\r\n} from \"react-icons/ai\";\r\nimport { BsChat } from \"react-icons/bs\";\r\nimport \"./style.scss\";\r\nimport Mint from \"../../images/mint.jpg\";\r\nimport PostDetail from \"../../components/PostDetail/index\";\r\nimport ModalPost from \"../../components/ModalPost/index\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { getPostByKey, getRealTimePosts } from \"../../actions\";\r\nimport Loading from \"../../components/Layout/UI/Loading/index\";\r\nimport ModalUpdateAvatar from \"../../components/ModalUpdateAvatar\";\r\n\r\nconst ProfilePage = () => {\r\n  const dispatch = useDispatch();\r\n  const post = useSelector((state) => state.post);\r\n  const auth = useSelector((state) => state.auth);\r\n  React.useEffect(() => {\r\n    dispatch(getRealTimePosts(auth.uid));\r\n  }, []);\r\n  const openPostDetail = (key) => {\r\n    const postDetail = document.querySelector(\".postDetail\");\r\n    postDetail.classList.add(\"open\");\r\n    dispatch(getPostByKey(key));\r\n  };\r\n  const openModalPost = (item) => {\r\n    document.querySelector(\".modalPost\").classList.add(\"open\");\r\n  };\r\n\r\n  const openModalUpdateAvatar = () => {\r\n    document.querySelector(\".modalUpdateAvatar\").classList.add(\"open\");\r\n  };\r\n  return (\r\n    <Layout>\r\n      <ModalPost />\r\n      <ModalUpdateAvatar />\r\n      <PostDetail />\r\n      <div className=\"profile\">\r\n        <div className=\"profileHead\">\r\n          <div className=\"avatar\">\r\n            <div className=\"avatarWrap\">\r\n              <img alt={Mint} src={auth.avatarUrl} />\r\n            </div>\r\n            <AiOutlinePlusCircle\r\n              onClick={openModalUpdateAvatar}\r\n              className=\"icon\"\r\n            />\r\n          </div>\r\n          <div className=\"details\">\r\n            <div className=\"userName\">\r\n              <p>{auth.firstName + \" \" + auth.lastName}</p>\r\n              <Button>Edit Profile</Button>\r\n              <AiOutlineSetting className=\"icon\" />\r\n            </div>\r\n            <div className=\"userFollow\">\r\n              <p>\r\n                282 <span>followers</span>\r\n              </p>\r\n              <p>\r\n                1003 <span>following</span>\r\n              </p>\r\n            </div>\r\n            <div className=\"madeUpName\">\r\n              <p></p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"postButton\">\r\n          <Button onClick={openModalPost}>Post something</Button>\r\n        </div>\r\n        <div className=\"allPosts\">\r\n          {!post.loadingPost ? (\r\n            post.posts.length > 0 ? (\r\n              post.posts.map((item, index) => (\r\n                <div\r\n                  key={item.key}\r\n                  onClick={() => openPostDetail(item.key)}\r\n                  className=\"post\"\r\n                >\r\n                  <div className=\"postImage\">\r\n                    <img alt={item.createdAt} src={item.file} />\r\n                  </div>\r\n                  <div className=\"postHover\">\r\n                    <p>\r\n                      <AiOutlineHeart className=\"icon\" /> 37{\" \"}\r\n                    </p>\r\n                    <p>\r\n                      <BsChat className=\"icon\" /> 37{\" \"}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              ))\r\n            ) : (\r\n              <div className=\"post\">\r\n                <p>Havent posted anything</p>\r\n              </div>\r\n            )\r\n          ) : (\r\n            <div className=\"post\">\r\n              <div className=\"loading\">\r\n                <Loading />\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\nexport default ProfilePage;\r\n","import React from \"react\";\r\nimport { Redirect, Route } from \"react-router-dom\";\r\nexport default function PrivateRoute({ component: Component, ...rest }) {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      component={(props) => {\r\n        const user = localStorage.getItem(\"user\")\r\n          ? JSON.parse(localStorage.getItem(\"user\"))\r\n          : null;\r\n        if (user) {\r\n          return <Component {...props} />;\r\n        } else {\r\n          return <Redirect to=\"/login\" />;\r\n        }\r\n      }}\r\n    />\r\n  );\r\n}\r\n","import React from \"react\";\nimport \"./App.css\";\nimport { BrowserRouter as Router, Redirect, Route } from \"react-router-dom\";\nimport SignUp from \"./containers/SignUpPage/index\";\nimport Login from \"./containers/LoginPage/index\";\nimport Home from \"./containers/HomePage/index\";\nimport Profile from \"./containers/ProfilePage/index\";\nimport PrivateRoute from \"./components/Private/index.js\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { isLoggedInUser } from \"./actions\";\nfunction App() {\n  const dispatch = useDispatch();\n  const auth = useSelector((state) => state.auth);\n\n  React.useEffect(() => {\n    if (!auth.authenticated) {\n      dispatch(isLoggedInUser());\n    }\n  }, []);\n  const routes = [\n    { path: \"/realtime-chat-application\", name: \"Home\", component: Home },\n    { path: \"/login\", name: \"Login\", component: Login },\n    { path: \"/signup\", name: \"Sign Up\", component: SignUp },\n    { path: \"/profile\", name: \"Profile\", component: Profile },\n  ];\n\n  return (\n    <div className=\"App\">\n      <Router>\n        {routes.map((route) => {\n          return (\n            <div key={route.name}>\n              {route.name === \"Login\" || route.name === \"Sign Up\" ? (\n                <Route path={route.path} component={route.component} exact />\n              ) : (\n                <PrivateRoute path={route.path} component={route.component} />\n              )}\n            </div>\n          );\n        })}\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","import { authConstants } from \"../actions/constants\";\r\n\r\nconst initialState = {\r\n  firstName: \"\",\r\n  lastName: \"\",\r\n  uid: \"\",\r\n  email: \"\",\r\n  avatarUrl: \"\",\r\n  authenticating: false,\r\n  authenticated: false,\r\n  error: null,\r\n  notify: \"\",\r\n  updating : false,\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case `${authConstants.USER_LOGIN}_REQUEST`:\r\n      state = {\r\n        ...state,\r\n        authenticating: true,\r\n      };\r\n      return state;\r\n    case `${authConstants.USER_LOGIN}_SUCCESS`:\r\n      state = {\r\n        ...state,\r\n        firstName: action.payload.user.firstName,\r\n        lastName: action.payload.user.lastName,\r\n        uid: action.payload.user.uid,\r\n        email: action.payload.user.email,\r\n        avatarUrl: action.payload.user.avatarUrl,\r\n        authenticated: true,\r\n        authenticating: false,\r\n        error: null,\r\n      };\r\n      return state;\r\n\r\n    case `${authConstants.USER_LOGIN}_FAILURE`:\r\n      state = {\r\n        ...state,\r\n        authenticated: false,\r\n        authenticating: false,\r\n        error: action.payload.error,\r\n      };\r\n      return state;\r\n\r\n    case `${authConstants.USER_LOGOUT}_REQUEST`:\r\n      return state;\r\n\r\n    case `${authConstants.USER_LOGOUT}_SUCCESS`:\r\n      state = {\r\n        ...initialState,\r\n      };\r\n      return state;\r\n\r\n    case `${authConstants.USER_LOGOUT}_FAILURE`:\r\n      state = {\r\n        ...state,\r\n        error: action.payload.error,\r\n      };\r\n      return state;\r\n    case `${authConstants.UPDATE_USER_AVATAR}_REQUEST`:\r\n      state={\r\n        ...state,\r\n        updating:true\r\n      }\r\n      return state;\r\n    case `${authConstants.UPDATE_USER_AVATAR}_SUCCESS`:\r\n      state = {\r\n        ...state,\r\n        updating : false,\r\n        notify: action.payload.notify,\r\n        avatarUrl: action.payload.avatarUrl,\r\n      };\r\n      return state;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { userConstants } from \"../actions/constants\";\r\n\r\nconst initialState = {\r\n  users: [],\r\n  conversations: [],\r\n  loadingUser: true,\r\n  loadingChat: true,\r\n  lastestDoc: {},\r\n};\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case `${userConstants.GET_REALTIME_USERS}_REQUEST`:\r\n      state = {\r\n        ...state,\r\n        loadingUser: true,\r\n      };\r\n      return state;\r\n    case `${userConstants.GET_REALTIME_USERS}_SUCCESS`:\r\n      state = {\r\n        ...state,\r\n        loadingUser: false,\r\n        users: action.payload.users,\r\n      };\r\n      return state;\r\n    case `${userConstants.GET_REALTIME_MESSAGE}_REQUEST`:\r\n      state = {\r\n        ...state,\r\n        loadingChat: true,\r\n      };\r\n      return state;\r\n    case `${userConstants.GET_REALTIME_MESSAGE}_SUCCESS`:\r\n      state = {\r\n        ...state,\r\n        loadingChat: false,\r\n        conversations: action.payload.conversations,\r\n        lastestDoc : action.payload.lastDoc,\r\n      };\r\n      return state;\r\n    case `${userConstants.GET_LOADMORE_MESSAGE}_REQUEST`:\r\n      state = {\r\n        ...state,\r\n        loadingChat: true,\r\n      };\r\n      return state;\r\n    case `${userConstants.GET_LOADMORE_MESSAGE}_SUCCESS`:\r\n      state = {\r\n        ...state,\r\n        loadingChat: false,\r\n        conversations: [\r\n          ...action.payload.conversations,\r\n          ...state.conversations,\r\n        ],\r\n        lastestDoc: action.payload.lastestDoc,\r\n      };\r\n      return state;\r\n    case `${userConstants.GET_LOADMORE_MESSAGE}_FAILURE`:\r\n      state = {\r\n        ...state,\r\n      };\r\n      return state;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { postConstants } from \"../actions/constants\";\r\n\r\nconst initialState = {\r\n  posts: [],\r\n  posting: true,\r\n  loadingPosts: true,\r\n  error: null,\r\n  posted: false,\r\n  postbykey: {\r\n    item: {},\r\n    comments : [],\r\n    loading: true,\r\n    error: null,\r\n  },\r\n};\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case `${postConstants.PUSH_POST}_REQUEST`:\r\n      state = {\r\n        ...state,\r\n      };\r\n      return state;\r\n    case `${postConstants.PUSH_POST}_SUCCESS`:\r\n      state = {\r\n        ...state,\r\n        posting: false,\r\n        posted: true,\r\n      };\r\n      return state;\r\n    case `${postConstants.PUSH_POST}_FAILURE`:\r\n      state = {\r\n        ...state,\r\n        posted: false,\r\n        posting: false,\r\n        error: action.payload.error,\r\n      };\r\n    case `${postConstants.GET_REALTIME_POSTS}_REQUEST`:\r\n      state = {\r\n        ...state,\r\n      };\r\n      return state;\r\n    case `${postConstants.GET_REALTIME_POSTS}_SUCCESS`:\r\n      state = {\r\n        ...state,\r\n        loadingPosts: false,\r\n        posts: action.payload.posts,\r\n      };\r\n      return state;\r\n    case `${postConstants.GET_REALTIME_POSTS}_FAILURE`:\r\n      state = {\r\n        ...state,\r\n        loadingPosts: false,\r\n        error: action.payload.error,\r\n      };\r\n      return state;\r\n    case `${postConstants.GET_POST_BY_KEY}_REQUEST`:\r\n      state = {\r\n        ...state,\r\n      };\r\n      return state;\r\n    case `${postConstants.GET_POST_BY_KEY}_SUCCESS`:\r\n      state = {\r\n        ...state,\r\n        postbykey: {\r\n          ...state.postbykey,\r\n          item: action.payload.postItem,\r\n          comments : action.payload.comments,\r\n          loading: false,\r\n          error: null,\r\n        },\r\n      };\r\n      return state;\r\n    case `${postConstants.GET_POST_BY_KEY}_FAILURE`:\r\n      state = {\r\n        ...state,\r\n        postbykey: {\r\n          ...state.postbykey,\r\n          loading: true,\r\n          error: action.payload.error,\r\n        },\r\n      };\r\n      return state;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {combineReducers} from 'redux'\r\nimport authReducer from './authReducer'\r\nimport userReducer from './userReducer'\r\nimport postReducer from './postReducer'\r\nconst myReducers = combineReducers({\r\n    auth : authReducer,\r\n    user : userReducer,\r\n    post : postReducer,\r\n})\r\n\r\nexport default myReducers","import { createStore, applyMiddleware } from \"redux\";\r\nimport rootReducers from \"../reducers/index\";\r\nimport thunk from \"redux-thunk\";\r\nconst store = createStore(\r\n  rootReducers,\r\n  applyMiddleware(thunk),\r\n//   window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n);\r\n\r\nexport default store;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { Provider } from \"react-redux\";\nimport store from './store/index'\nwindow.store = store\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}