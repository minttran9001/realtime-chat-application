(this["webpackJsonprealtime-chat-app"]=this["webpackJsonprealtime-chat-app"]||[]).push([[0],{50:function(e,t,c){},51:function(e,t,c){},53:function(e,t,c){},62:function(e,t,c){},63:function(e,t,c){},64:function(e,t,c){},65:function(e,t,c){},66:function(e,t,c){},67:function(e,t,c){},68:function(e,t,c){},69:function(e,t,c){},70:function(e,t,c){"use strict";c.r(t);var a=c(2),s=c(3),n=c.n(s),r=c(29),i=c.n(r),l=(c(50),c(51),c(19)),o=c(9),j=c(5),d=c(8),u=c.n(d),b=c(15),O=c(21),m=(c(53),c(12)),p=c(36);c(58),c(71),c(72);p.a.initializeApp({apiKey:"AIzaSyDhWHYUo31EhafDtO8OdAlDZthmVN85TPI",authDomain:"realtime-chat-ap.firebaseapp.com",projectId:"realtime-chat-ap",storageBucket:"realtime-chat-ap.appspot.com",messagingSenderId:"930254441751",appId:"1:930254441751:web:c256a9a83d26e7af4d7b52",measurementId:"G-8Q95J2GC5R"});var h=p.a,f="USER_LOGIN",x="USER_LOGOUT",v="GET_REALTIME_USERS",N="UPDATE_MESSAGE",g="GET_REALTIME_MESSAGE",S="SET_SEEN_MESSAGE",y="GET_LOADMORE_MESSAGE",_=function(e){return function(){var t=Object(b.a)(u.a.mark((function t(c){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=h.firestore(),c({type:"".concat(f,"_REQUEST")}),h.auth().createUserWithEmailAndPassword(e.email,e.password).then((function(t){var s=h.auth().currentUser,n="".concat(e.firstName," ").concat(e.lastName);s.updateProfile({displayName:n}).then((function(){a.collection("users").doc(t.user.uid).set({firstName:e.firstName,lastName:e.lastName,createdAt:new Date,uid:t.user.uid,isOnline:!0}).then((function(){var a={firstName:e.firstName,lastName:e.lastName,uid:t.user.uid,email:e.email};localStorage.setItem("user",JSON.stringify({loggedUser:a})),c({type:"".concat(f,"_SUCCESS"),payload:{user:a}})})).catch((function(e){c({type:"".concat(f,"_FAILURE"),payload:e})}))}))})).catch((function(e){c({type:"".concat(f,"_FAILURE"),payload:{error:e.message}})}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},E=function(e){var t=e.msgObj,c=e.type;return function(){var e=Object(b.a)(u.a.mark((function e(a){var s,n,r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a({type:"".concat(N,"_REQUEST")}),s=h.firestore(),"file"!=c?s.collection("conversations").add(Object(j.a)(Object(j.a)({},t),{},{type:"text",isView:!1,createdAt:new Date})).then((function(e){a({type:"".concat(N,"_SUCCESS")})})).catch((function(e){a({type:"".concat(N,"_REQUEST"),payload:{error:e.message}})})):(n=h.storage().ref(),r=new Date+"-"+t.file.name,i={contentType:t.file.type},n.child(r).put(t.file,i).then((function(e){e.ref.getDownloadURL().then((function(e){s.collection("conversations").add({user_uid_1:t.user_uid_1,user_uid_2:t.user_uid_2,file:e,type:"file",isView:!1,createdAt:new Date}).then((function(e){a({type:"".concat(N,"_SUCCESS")})})).catch((function(e){a({type:"".concat(N,"_REQUEST"),payload:{error:e.message}})}))}))})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},w=function(e){var t=e.uid_1,c=e.uid_2;e.type;return function(){var e=Object(b.a)(u.a.mark((function e(a){var s,n,r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"".concat(g,"_REQUEST")}),s=h.firestore(),n=s.collection("conversations").orderBy("createdAt","desc").where("user_uid_1","in",[c,t]),e.next=5,n.get();case 5:r=e.sent,i=r.docs[r.docs.length-1],s.collection("conversations").orderBy("createdAt","desc").where("user_uid_1","in",[t,c]).onSnapshot((function(e){var s=[];e.forEach((function(e){(e.data().user_uid_1==t&&e.data().user_uid_2==c||e.data().user_uid_1==c&&e.data().user_uid_2==t)&&s.push(e.data())})),a({type:"".concat(g,"_SUCCESS"),payload:{conversations:s.reverse(),lastestDoc:i}})}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};function U(){var e=Object(m.c)((function(e){return e.auth})),t=Object(m.b)();return Object(a.jsx)("div",{className:"header",children:Object(a.jsxs)("div",{className:"navBar",children:[Object(a.jsx)("div",{className:"navSide",children:Object(a.jsxs)("ul",{className:"navWrap",children:[Object(a.jsx)("li",{className:"navItem",children:Object(a.jsx)(l.c,{to:"/realtime-chat-application",className:"navLink",children:"HOME"})}),Object(a.jsx)("li",{className:"navItem",children:Object(a.jsx)(l.c,{to:"/about",className:"navLink",children:"ABOUT"})})]})}),Object(a.jsx)("div",{className:"logoArea",children:Object(a.jsx)("img",{src:"https://www.williamdollace.it/wp-content/themes/williamdollacetheme/images/logo.svg"})}),Object(a.jsx)("div",{className:"navSide",children:e.authenticated?Object(a.jsxs)("ul",{className:"navWrap",children:[Object(a.jsx)("li",{className:"navItem",children:Object(a.jsxs)(l.c,{to:"/profile",className:"navLink",children:[e.firstName," PROFILE"]})}),Object(a.jsx)("li",{className:"navItem",children:Object(a.jsx)(l.b,{to:"#",onClick:function(){var c;t((c=e.uid,function(){var e=Object(b.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"".concat(x,"_REQUEST")}),h.firestore().collection("users").doc(c).update({isOnline:!1}).then((function(){h.auth().signOut().then((function(){localStorage.clear(),t({type:"".concat(x,"_SUCCESS")})})).catch((function(e){t({type:"".concat(x,"_FAILURE"),payload:{error:e}})}))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},className:"navLink",children:"LOG OUT"})})]}):Object(a.jsxs)("ul",{className:"navWrap",children:[Object(a.jsx)("li",{className:"navItem",children:Object(a.jsx)(l.c,{to:"/login",className:"navLink",children:"LOGIN"})}),Object(a.jsx)("li",{className:"navItem",children:Object(a.jsx)(l.c,{to:"/signup",className:"navLink",children:"SIGN UP"})})]})})]})})}function I(e){return Object(a.jsxs)("div",{className:"layout",children:[Object(a.jsx)(U,{}),e.children]})}c(62);function C(e){var t=e.value,c=e.type,n=e.label,r=e.onChange,i=e.placeholder,l=Object(s.useState)("inputGroup"),o=Object(O.a)(l,2),j=o[0],d=o[1];return Object(a.jsxs)("div",{className:j,children:[Object(a.jsx)("label",{children:n}),Object(a.jsx)("input",{type:c,onFocus:function(e){d("inputGroup onFocus")},onChange:function(e){var t=e.target.value;r(t)},placeholder:i,value:t}),Object(a.jsx)("div",{className:"line"})]})}c(63);function A(e){return Object(a.jsx)("div",{className:"card",children:e.children})}c(64);function L(e){return Object(a.jsx)("button",{type:e.type,className:"buttonGold",children:e.children})}c(65);function R(e){return Object(a.jsx)("div",{className:"title",children:Object(a.jsx)("p",{children:e.children})})}c(66);var T=c(32),k=function(e){return Object(a.jsxs)("div",{className:"error",children:[Object(a.jsx)("p",{children:e.children}),Object(a.jsx)(T.a,{className:"icon"})]})};function D(){var e=Object(m.b)(),t=Object(m.c)((function(e){return e.auth})),c=Object(s.useState)({email:"",password:"",firstName:"",lastName:""}),n=Object(O.a)(c,2),r=n[0],i=n[1],l=function(){var t=Object(b.a)(u.a.mark((function t(c){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c.preventDefault(),e(_(r));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return!0===t.authenticated?Object(a.jsx)(o.a,{to:"/realtime-chat-application"}):Object(a.jsx)(I,{children:Object(a.jsx)(A,{children:Object(a.jsxs)("form",{onSubmit:l,className:"authForm",children:[Object(a.jsx)(R,{children:"SIGN UP"}),Object(a.jsx)(C,{type:"text",label:"First name",placeholder:"",onChange:function(e){return i(Object(j.a)(Object(j.a)({},r),{},{firstName:e}))}}),Object(a.jsx)(C,{type:"text",label:"Last name",placeholder:"",onChange:function(e){return i(Object(j.a)(Object(j.a)({},r),{},{lastName:e}))}}),Object(a.jsx)(C,{type:"text",label:"Email",placeholder:"",onChange:function(e){return i(Object(j.a)(Object(j.a)({},r),{},{email:e}))}}),Object(a.jsx)(C,{type:"password",label:"Password",placeholder:"",onChange:function(e){return i(Object(j.a)(Object(j.a)({},r),{},{password:e}))}}),t.error?Object(a.jsx)(k,{children:t.error}):Object(a.jsx)(a.Fragment,{}),Object(a.jsx)(L,{type:"submit",children:"SIGN UP"})]})})})}c(67);var F=function(){var e=Object(m.b)(),t=Object(m.c)((function(e){return e.auth})),c=Object(s.useState)({email:"",password:""}),n=Object(O.a)(c,2),r=n[0],i=n[1];return!0===t.authenticated?Object(a.jsx)(o.a,{to:"/realtime-chat-application"}):Object(a.jsx)(I,{children:Object(a.jsx)(A,{children:Object(a.jsxs)("form",{onSubmit:function(t){var c;t.preventDefault(),e((c=r,function(){var e=Object(b.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"".concat(f,"_REQUEST")}),a=h.firestore(),h.auth().signInWithEmailAndPassword(c.email,c.password).then((function(e){a.collection("users").doc(e.user.uid).update({isOnline:!0}).then((function(){var c=e.user.displayName;c=c.split(" ");for(var a=new Array,s=0;s<c.length;s++)a.push(c[s]);var n={firstName:c[0],lastName:c[1],uid:e.user.uid,email:e.user.email};localStorage.setItem("user",JSON.stringify({user:n})),t({type:"".concat(f,"_SUCCESS"),payload:{user:n}})}))})).catch((function(e){t({type:"".concat(f,"_FAILURE"),payload:{error:e.message}})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},className:"authForm",children:[Object(a.jsx)(R,{children:"Login"}),Object(a.jsx)(C,{type:"email",label:"Email",placeholder:"",onChange:function(e){return i(Object(j.a)(Object(j.a)({},r),{},{email:e}))}}),Object(a.jsx)(C,{type:"password",label:"Password",placeholder:"",onChange:function(e){return i(Object(j.a)(Object(j.a)({},r),{},{password:e}))}}),t.error?Object(a.jsx)(k,{children:t.error}):Object(a.jsx)(a.Fragment,{}),Object(a.jsx)(L,{type:"submit",children:"LOG IN"})]})})})},G=c.p+"static/media/mint.98ef681e.jpg",B=(c(68),c(10)),P=c(39),Q=c(22),H=c(40),W=function(){var e=Object(s.useState)(""),t=Object(O.a)(e,2),c=t[0],n=t[1],r=Object(s.useState)(""),i=Object(O.a)(r,2),l=i[0],o=i[1],j=Object(s.useState)(""),d=Object(O.a)(j,2),p=d[0],f=d[1],x=Object(s.useState)(""),N=Object(O.a)(x,2),g=N[0],y=N[1],_=Object(m.b)(),U=Object(m.c)((function(e){return e.user})),C=U.users,A=U.conversations,k=U.loadingUser,D=U.loadingChat,F=(U.lastestDoc,Object(m.c)((function(e){return e.auth}))),W=function(){var e;_((e=F.uid,function(){var t=Object(b.a)(u.a.mark((function t(c){var a,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c({type:"".concat(v,"_REQUEST")}),a=h.firestore(),s=a.collection("users").where("uid","!=",e).onSnapshot((function(e){var t=[];e.forEach((function(e){e.data().length!=t.length&&t.push(e.data())})),c({type:"".concat(v,"_SUCCESS"),payload:{users:t}})})),t.abrupt("return",s);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))};Object(s.useEffect)((function(){W()}),[]);Object(s.useEffect)((function(){""!=l&&_(w({uid_1:F.uid,uid_2:l.uid,type:"afterSend"}))}),[l]),Object(s.useEffect)((function(){if(""!=l&&!D){var e=document.getElementById("chatArea");e.scrollTop=e.scrollHeight}}),[A]),Object(s.useEffect)((function(){""!=g&&M.addEventListener("change",q)}),[g]);var M=document.getElementById("fileInput"),J=document.getElementById("messageImg"),q=function(e){document.querySelector(".fileSend").classList.add("hasFile"),J.src=URL.createObjectURL(M.files[0])},V=function(e){e.preventDefault();var t={user_uid_1:F.uid,user_uid_2:l.uid,message:p};""!==p&&(_(E({msgObj:t})),_(w({uid_1:F.uid,uid_2:l.uid,type:"afterSend"})),f(""))},z=function(e){_(function(e){var t=e.uid_1,c=e.uid_2;return function(){var e=Object(b.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a({type:"".concat(S,"_REQUEST")}),h.firestore().collection("conversations").where("user_uid_1","==",c).where("user_uid_2","==",t).orderBy("createdAt","desc").onSnapshot((function(e){e.forEach((function(e){e.ref.update({isView:!0})}))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}({uid_1:F.uid,uid_2:l.uid}))};return Object(a.jsx)(I,{children:Object(a.jsxs)("div",{className:"homePage",children:[k?Object(a.jsx)("div",{className:"friendList loading",children:Object(a.jsx)(P.a,{className:"icon"})}):Object(a.jsx)("div",{className:"friendList",children:C.map((function(e,t){return Object(a.jsxs)("div",{onClick:function(){!function(e){var t={uid_1:F.uid,uid_2:e.uid};o(e),_(w(t))}(e),function(e){""!==c?(document.querySelectorAll(".friend")[c].classList.remove("isSelected"),document.querySelectorAll(".friend")[e].classList.add("isSelected"),n(e)):(document.querySelectorAll(".friend")[e].classList.add("isSelected"),n(e))}(t)},className:"friend",children:[Object(a.jsxs)("div",{className:"avatar",children:[Object(a.jsx)("img",{src:G,alt:"avatar"}),Object(a.jsx)("span",{className:e.isOnline?"isOnline":"isOffline"})]}),Object(a.jsxs)("div",{className:"friendState",children:[Object(a.jsx)("p",{className:"friendName",children:e.firstName+" "+e.lastName}),Object(a.jsxs)("div",{className:"friendLastText",children:[Object(a.jsx)("p",{className:"lastText",children:"See you again "}),Object(a.jsx)("span",{}),Object(a.jsx)("p",{children:"4 hours ago"})]})]}),Object(a.jsx)("div",{className:"friendButton",children:Object(a.jsxs)("button",{children:[Object(a.jsx)("div",{className:"circle"}),Object(a.jsx)("div",{className:"circle"}),Object(a.jsx)("div",{className:"circle"})]})})]},t)}))}),""!==l?Object(a.jsxs)("div",{className:"chatBox",children:[Object(a.jsxs)("div",{className:"headBox",children:[Object(a.jsxs)("div",{className:"headUser",children:[Object(a.jsx)("img",{alt:"avatar",src:G}),Object(a.jsx)("p",{children:l.firstName})]}),Object(a.jsxs)("div",{className:"headCall",children:[Object(a.jsx)(B.e,{className:"icon"}),Object(a.jsx)(Q.a,{className:"icon"}),Object(a.jsx)(B.d,{className:"icon"})]})]}),D?Object(a.jsx)("div",{className:"chatArea loading",children:Object(a.jsx)(P.a,{className:"icon"})}):Object(a.jsx)("div",{onScroll:function(){var e=document.body,t=document.querySelector(".chatArea");(t=t.clientHeight?t:e).scrollTop},id:"chatArea",className:"chatArea",children:Object(a.jsx)("div",{className:"chatAreaWrap",children:A.map((function(e,t){return Object(a.jsxs)("div",{className:F.uid==e.user_uid_1?"chatWrapper right":"chatWrapper left",children:[F.uid!==e.user_uid_1?Object(a.jsx)("img",{className:"avatar",src:G}):Object(a.jsx)(a.Fragment,{}),"file"!==e.type?Object(a.jsx)("div",{className:"messageWrap",children:Object(a.jsx)("p",{children:e.message},t)}):Object(a.jsx)("img",{className:"messageFile",src:e.file},t),Object(a.jsx)(B.a,{className:F.uid!=e.user_uid_1||e.isView?"icon gone":"icon"})]},t)}))})}),Object(a.jsxs)("div",{className:"typeArea",children:[Object(a.jsxs)("div",{className:"action",children:[Object(a.jsxs)("div",{className:"fileSend",children:[Object(a.jsx)("img",{id:"messageImg"}),Object(a.jsx)("div",{className:"before"}),Object(a.jsx)(B.h,{onClick:function(e){e.preventDefault();var t={user_uid_1:F.uid,user_uid_2:l.uid,file:M.files[0]};_(E({msgObj:t,type:"file"})),document.querySelector(".fileSend").classList.remove("hasFile"),J.src="",_(w({uid_1:F.uid,uid_2:l.uid,type:"afterSend"}))},className:"icon"})]}),Object(a.jsxs)("div",{className:"actionWrap",children:[Object(a.jsx)("input",{type:"file",className:"fileInput"}),Object(a.jsx)(B.g,{className:"icon"})]}),Object(a.jsxs)("div",{className:"actionWrap",children:[Object(a.jsx)("input",{type:"file",id:"fileInput",className:"fileInput"}),Object(a.jsx)(B.f,{onClick:function(e){M.click(),y("advanced")},className:"icon"})]}),Object(a.jsxs)("div",{className:"actionWrap",children:[Object(a.jsx)("input",{type:"file",className:"fileInput"}),Object(a.jsx)(H.a,{className:"icon"})]}),Object(a.jsxs)("div",{className:"actionWrap",children:[Object(a.jsx)("input",{type:"file",className:"fileInput"}),Object(a.jsx)(B.b,{className:"icon"})]})]}),Object(a.jsxs)("div",{className:"input",children:[Object(a.jsx)("form",{onSubmit:V,children:Object(a.jsx)("input",{value:p,onClick:function(){return z()},onChange:function(e){return f(e.target.value)},type:"text",placeholder:"Aa"})}),Object(a.jsx)(H.a,{className:"icon"})]}),Object(a.jsx)("div",{className:"likeButton",children:""===p?Object(a.jsx)(B.c,{className:"icon"}):Object(a.jsx)(B.h,{onClick:V,className:"icon"})})]})]}):Object(a.jsxs)("div",{className:"chatBox unSelected",children:[Object(a.jsx)(T.b,{className:"bigIcon"}),Object(a.jsx)(R,{children:"Your Message"}),Object(a.jsx)("p",{children:"Send private photos and messages to a friend or group."}),Object(a.jsx)(L,{children:"Send a message"})]})]})})},M=(c(69),function(){return Object(a.jsx)(I,{children:Object(a.jsxs)("div",{className:"profile",children:[Object(a.jsxs)("div",{className:"profileHead",children:[Object(a.jsxs)("div",{className:"avatar",children:[Object(a.jsx)("img",{src:G}),Object(a.jsx)(B.g,{className:"icon"})]}),Object(a.jsxs)("div",{className:"details",children:[Object(a.jsxs)("div",{className:"userName",children:[Object(a.jsx)("p",{children:"Mint"}),Object(a.jsx)(L,{children:"Edit Profile"}),Object(a.jsx)(B.i,{className:"icon"})]}),Object(a.jsxs)("div",{className:"userFollow",children:[Object(a.jsxs)("p",{children:["282 ",Object(a.jsx)("span",{children:"followers"})]}),Object(a.jsxs)("p",{children:["1003 ",Object(a.jsx)("span",{children:"following"})]})]}),Object(a.jsx)("div",{className:"madeUpName",children:Object(a.jsx)("p",{children:"\u5c0f\u3055\u306a\u30db\u30bf\u30eb"})})]})]}),Object(a.jsxs)("div",{className:"allPosts",children:[Object(a.jsxs)("div",{className:"post",children:[Object(a.jsx)("div",{className:"postImage",children:Object(a.jsx)("img",{src:G})}),Object(a.jsxs)("div",{className:"postHover",children:[Object(a.jsxs)("p",{children:[Object(a.jsx)(B.c,{className:"icon"})," 37 "]}),Object(a.jsxs)("p",{children:[Object(a.jsx)(Q.b,{className:"icon"})," 37 "]})]})]}),Object(a.jsxs)("div",{className:"post",children:[Object(a.jsx)("div",{className:"postImage",children:Object(a.jsx)("img",{src:G})}),Object(a.jsxs)("div",{className:"postHover",children:[Object(a.jsxs)("p",{children:[Object(a.jsx)(B.c,{className:"icon"})," 37 "]}),Object(a.jsxs)("p",{children:[Object(a.jsx)(Q.b,{className:"icon"})," 37 "]})]})]}),Object(a.jsxs)("div",{className:"post",children:[Object(a.jsx)("div",{className:"postImage",children:Object(a.jsx)("img",{src:G})}),Object(a.jsxs)("div",{className:"postHover",children:[Object(a.jsxs)("p",{children:[Object(a.jsx)(B.c,{className:"icon"})," 37 "]}),Object(a.jsxs)("p",{children:[Object(a.jsx)(Q.b,{className:"icon"})," 37 "]})]})]}),Object(a.jsxs)("div",{className:"post",children:[Object(a.jsx)("div",{className:"postImage",children:Object(a.jsx)("img",{src:G})}),Object(a.jsxs)("div",{className:"postHover",children:[Object(a.jsxs)("p",{children:[Object(a.jsx)(B.c,{className:"icon"})," 37 "]}),Object(a.jsxs)("p",{children:[Object(a.jsx)(Q.b,{className:"icon"})," 37 "]})]})]}),Object(a.jsxs)("div",{className:"post",children:[Object(a.jsx)("div",{className:"postImage",children:Object(a.jsx)("img",{src:G})}),Object(a.jsxs)("div",{className:"postHover",children:[Object(a.jsxs)("p",{children:[Object(a.jsx)(B.c,{className:"icon"})," 37 "]}),Object(a.jsxs)("p",{children:[Object(a.jsx)(Q.b,{className:"icon"})," 37 "]})]})]}),Object(a.jsxs)("div",{className:"post",children:[Object(a.jsx)("div",{className:"postImage",children:Object(a.jsx)("img",{src:G})}),Object(a.jsxs)("div",{className:"postHover",children:[Object(a.jsxs)("p",{children:[Object(a.jsx)(B.c,{className:"icon"})," 37 "]}),Object(a.jsxs)("p",{children:[Object(a.jsx)(Q.b,{className:"icon"})," 37 "]})]})]}),Object(a.jsxs)("div",{className:"post",children:[Object(a.jsx)("div",{className:"postImage",children:Object(a.jsx)("img",{src:G})}),Object(a.jsxs)("div",{className:"postHover",children:[Object(a.jsxs)("p",{children:[Object(a.jsx)(B.c,{className:"icon"})," 37 "]}),Object(a.jsxs)("p",{children:[Object(a.jsx)(Q.b,{className:"icon"})," 37 "]})]})]})]})]})})}),J=c(44);function q(e){var t=e.component,c=Object(J.a)(e,["component"]);return Object(a.jsx)(o.b,Object(j.a)(Object(j.a)({},c),{},{component:function(e){return(localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):null)?Object(a.jsx)(t,Object(j.a)({},e)):Object(a.jsx)(o.a,{to:"/login"})}}))}var V=function(){var e=Object(m.b)(),t=Object(m.c)((function(e){return e.auth}));n.a.useEffect((function(){t.authenticated||e(function(){var e=Object(b.a)(u.a.mark((function e(t){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):null,t(c?{type:"".concat(f,"_SUCCESS"),payload:{user:c.user}}:{type:"".concat(f,"_FAILURE"),payload:{error:""}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]);var c=[{path:"/realtime-chat-application",name:"Home",component:W},{path:"/login",name:"Login",component:F},{path:"/signup",name:"Sign Up",component:D},{path:"/profile",name:"Profile",component:M}];return Object(a.jsx)("div",{className:"App",children:Object(a.jsx)(l.a,{children:c.map((function(e){return Object(a.jsx)("div",{children:"Home"===e.name?Object(a.jsx)(q,{path:e.path,component:e.component,exact:!0}):Object(a.jsx)(o.b,{path:e.path,component:e.component})},e.name)}))})})},z=c(24),Y={firstName:"",lastName:"",uid:"",email:"",authenticating:!1,authenticated:!1,error:null},K=c(41),Z={users:[],conversations:[],loadingUser:!0,loadingChat:!0,lastestDoc:{}},X=Object(z.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"".concat(f,"_REQUEST"):return e=Object(j.a)(Object(j.a)({},e),{},{authenticating:!0});case"".concat(f,"_SUCCESS"):return e=Object(j.a)(Object(j.a)({},e),{},{firstName:t.payload.user.firstName,lastName:t.payload.user.lastName,uid:t.payload.user.uid,email:t.payload.user.email,authenticated:!0,authenticating:!1,error:null});case"".concat(f,"_FAILURE"):return e=Object(j.a)(Object(j.a)({},e),{},{authenticated:!1,authenticating:!1,error:t.payload.error});case"".concat(x,"_REQUEST"):return e;case"".concat(x,"_SUCCESS"):return e=Object(j.a)({},Y);case"".concat(x,"_FAILURE"):return e=Object(j.a)(Object(j.a)({},e),{},{error:t.payload.error});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"".concat(v,"_REQUEST"):return e=Object(j.a)(Object(j.a)({},e),{},{loadingUser:!0});case"".concat(v,"_SUCCESS"):return e=Object(j.a)(Object(j.a)({},e),{},{loadingUser:!1,users:t.payload.users});case"".concat(g,"_REQUEST"):return e=Object(j.a)(Object(j.a)({},e),{},{loadingChat:!0});case"".concat(g,"_SUCCESS"):return e=Object(j.a)(Object(j.a)({},e),{},{loadingChat:!1,conversations:t.payload.conversations,lastestDoc:t.payload.lastDoc});case"".concat(y,"_REQUEST"):return e=Object(j.a)(Object(j.a)({},e),{},{loadingChat:!0});case"".concat(y,"_SUCCESS"):return e=Object(j.a)(Object(j.a)({},e),{},{loadingChat:!1,conversations:[].concat(Object(K.a)(t.payload.conversations),Object(K.a)(e.conversations)),lastestDoc:t.payload.lastestDoc});case"".concat(y,"_FAILURE"):return e=Object(j.a)({},e);default:return e}}}),$=c(43),ee=Object(z.d)(X,Object(z.a)($.a));window.store=ee,i.a.render(Object(a.jsx)(m.a,{store:ee,children:Object(a.jsx)(V,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.7957f842.chunk.js.map